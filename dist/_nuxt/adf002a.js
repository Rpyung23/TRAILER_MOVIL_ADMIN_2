(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{461:function(t,e,n){},477:function(t,e,n){"use strict";n(461)},489:function(t,e,n){"use strict";n.r(e);var o,c=n(187),r=n(9),l=n(5),d=(n(275),n(6),n(63)),m=n.n(d),f=(n(184),n(72)),h=n.n(f),v=(n(276),n(104)),O=n.n(v),C=(n(277),n(142)),N=n.n(C),A=(n(270),n(69)),_=n.n(A),E=(n(271),n(138)),x=n.n(E),y=(n(272),n(139)),I=n.n(y),w=(n(278),n(143)),P=n.n(w),R=(n(279),n(144)),S=n.n(R),T=(n(280),n(145)),j=n.n(T),k=(n(281),n(146)),L=n.n(k),D=(n(273),n(140)),W=n.n(D),B=(n(274),n(141)),V=n.n(B),F=(n(282),n(147)),M=n.n(F),$=(n(283),n(148)),z=n.n($),H=(n(284),n(105)),J=n.n(H),U=(n(51),n(10),n(14),n(61),n(62),n(450)),X=n.n(U),G=(n(452),n(447),n(453),n(451),n(71)),K=n(149),Q=n(448),Y=(n(449),n(186)),Z=n(185),tt={mixins:[Q.a],layout:"DashboardLayout",components:(o={Tabs:Y.a,TabPane:Z.a,BasePagination:K.b,flatPicker:X.a,RouteBreadCrumb:G.a},Object(l.a)(o,J.a.name,J.a),Object(l.a)(o,z.a.name,z.a),Object(l.a)(o,M.a.name,M.a),Object(l.a)(o,V.a.name,V.a),Object(l.a)(o,W.a.name,W.a),Object(l.a)(o,L.a.name,L.a),Object(l.a)(o,j.a.name,j.a),Object(l.a)(o,S.a.name,S.a),Object(l.a)(o,P.a.name,P.a),Object(l.a)(o,I.a.name,I.a),Object(l.a)(o,x.a.name,x.a),Object(l.a)(o,_.a.name,_.a),Object(l.a)(o,N.a.name,N.a),Object(l.a)(o,O.a.name,O.a),Object(l.a)(o,h.a.name,h.a),Object(l.a)(o,m.a.name,m.a),o),data:function(){return{mListNotification:[],loadingEventos:!1,tableColumnsEventos:[{prop:"name_notificacion",label:"NOMBRE NOTIFICACION",minWidth:240},{prop:"cant_alcanzada",label:"CANT ENV.",minWidth:150},{prop:"ultimo_envio",label:"U. FECHA",minWidth:180},{prop:"precio_envio",label:"PRECIO EN.",minWidth:170},{prop:"texto",label:"DETALLE TEXTO",minWidth:870}],modalAddNotification:!1,img_src_evento:null,mListClientes:[],name_notification:null,texto_notification:null}},methods:{readNotificacionAll:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingEventos=!0,t.mListNotification=[],e.prev=2,e.next=5,t.$axios.get("https://rest.roman-company.com/view/notification.php?tipo=1");case 5:200==(n=e.sent).data.status?(o=t.mListNotification).push.apply(o,Object(c.a)(n.data.datos)):300==n.data.status?j.a.info({title:"Panel Salidas",message:"No existen datos disponibles."}):j.a.error({title:"Panel Salidas",message:n.data.msm}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),j.a.info({title:"TryCatch Panel Salidas",message:e.t0.toString()});case 13:t.loadingEventos=!1;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))()},showmodalAddNotification:function(){this.modalAddNotification=!0},readAllClientes:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mListClientes=[],e.prev=1,e.next=4,t.$axios.get("https://rest.roman-company.com/view/cliente.php/all_clientes");case 4:if(200==(n=e.sent).data.status)for(i=0;i<n.data.datos.length>0;i++)t.mListClientes.push("whatsapp:"+n.data.datos[i].telefono);e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},sendWhatsApp:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.post("http://localhost:3002/send_whatsapp_trailer",{usuarios:e.mListClientes,body:t});case 3:null==(o=n.sent).data.errorCode?j.a.success({title:"NOTIFICACIONES WHATSAPO",message:"ENVIADOS CON EXITO.....!"}):j.a.error({title:"ERROR NOTIFICACIONES WHATSAPO",message:o.data.errorMessage}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),j.a.error({title:"ERROR NOTIFICACIONES WHATSAPO",message:n.t0.toString()});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},createWhatsApp:function(){var t=this;try{if(null==this.name_notification&&null==this.texto_notification)return void this.$notify({title:"NOTIFICACION",message:"NO SE PERMITEN DATOS VACIOS",type:"danger"});var e={method:"post",maxBodyLength:1/0,url:"https://rest.roman-company.com/view/notification.php/whatsapp",headers:{"Content-Type":"application/json"},data:JSON.stringify({name:this.name_notification,texto:this.texto_notification})};this.$axios.request(e).then((function(e){console.log(JSON.stringify(e.data)),t.readNotificacionAll(),t.closeModal()})).catch((function(t){console.log(t),alert(t.toString())}))}catch(t){alert(t.toString())}},closeModal:function(){this.name_notification=null,this.texto_notification=null,this.modalAddNotification=!1}},mounted:function(){this.readAllClientes(),this.readNotificacionAll()}},at=(n(477),n(3)),component=Object(at.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("base-header",[n("div",{staticClass:"align-items-center py-3"},[n("card",{staticClass:"no-border-card col",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"body-classes":"px-0 pb-1 card-bodyTopOpcionesRPagosVehiculoPRoduccionPanelDespachoBusqueda cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda","footer-classes":"pb-2"}},[n("div",{staticClass:"cardTextoRPagosVehiculoProduccionPanelDespachoBusqueda"}),t._v(" "),n("div",{staticClass:"cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda"},[n("div",{staticClass:"buttonCenterEndDerecha"},[n("base-button",{attrs:{icon:"",type:"primary",size:"sm"},on:{click:function(e){return t.readNotificacionAll()}}},[n("span",{staticClass:"btn-inner--icon"},[n("i",{staticClass:"el-icon-search"})])]),t._v(" "),n("base-button",{attrs:{type:"default",size:"sm",title:"NUEVO USUARIO"},on:{click:function(e){return t.showmodalAddNotification()}}},[n("span",{staticClass:"btn-inner--icon"},[n("i",{staticClass:"ni ni-fat-add"})])])],1)])]),t._v(" "),n("card",{staticClass:"no-border-card",staticStyle:{"margin-bottom":"0rem"},attrs:{"body-classes":"card-bodyRPagosVehiculoProduccion px-0 pb-1","footer-classes":"pb-2"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingEventos,expression:"loadingEventos"}],staticClass:"tablePanelControlProduccion",staticStyle:{width:"100%"},attrs:{"element-loading-text":"Cargando Datos...",data:t.mListNotification,"row-key":"id","header-row-class-name":"thead-dark",height:"calc(100vh - 8.90rem)"}},[n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("base-button",{attrs:{size:"sm",title:"REENVIAR",type:"default"},on:{click:function(n){return t.sendWhatsApp(e.row.texto)}}},[n("i",{staticClass:"ni ni-send"})])]}}])}),t._v(" "),t._l(t.tableColumnsEventos,(function(e){return n("el-table-column",t._b({key:e.label},"el-table-column",e,!1))})),t._v(" "),n("div",{attrs:{slot:"empty"},slot:"empty"})],2)],1),t._v(" "),n("modal",{attrs:{show:t.modalAddNotification,size:"lg"},on:{"update:show":function(e){t.modalAddNotification=e}}},[n("base-input",{attrs:{"prepend-icon":"ni ni-diamond",name:"NOMBRE DEL LA NOTIFICACION",placeholder:"NOMBRE DEL LA NOTIFICACION",rules:"required"},model:{value:t.name_notification,callback:function(e){t.name_notification=e},expression:"name_notification"}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.texto_notification,expression:"texto_notification"}],staticClass:"form-control",attrs:{placeholder:"DETALLE NOTIFICACION",rows:"6"},domProps:{value:t.texto_notification},on:{input:function(e){e.target.composing||(t.texto_notification=e.target.value)}}}),t._v(" "),n("div",{staticClass:"text-right",staticStyle:{"margin-top":"1rem"}},[n("base-button",{attrs:{type:"danger"},on:{click:function(e){return t.closeModal()}}},[t._v("Cancelar")]),t._v(" "),n("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){return t.createWhatsApp()}}},[t._v("Guardar")])],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);